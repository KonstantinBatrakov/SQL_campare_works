# SQL_-Kursovaya

Была создана базы данных. Это итоговый проект Курсовой работы обучения SQL (длительностью 6 недель или 22 часа).

Наименование Курсовой работы:
"База данных нефтяных скважин Безымянного месторождения". 

ЦЕЛЬ: 
- База данных необходима для управления данными о скважинах и связанных с ними параметрах. Она храненит в едином формате и в одном месте все основные параметры скважин определенного месторождения. 
- Она служит источником для аналитической оценки работ как одной скважины так и месторождения в целом.

Структура базы данных: 
- Состоит из 12 связанных между собой таблиц("1. КУРСАЧ.sql").
- Создана ERDiagram для БД ("ERDiagram для курсовой.mwb"/"Курсач.png");
- База наполнена данными с помощью помогатора автонаполнения баз("2. КУРСАЧ_+данные.sql");

Описание таблиц:
1. Таблица "well": Содержит информацию о скважинах, включая их номер, принадлежность к кусту, характер добычи и тип скважины.
2. Таблица "delo_well": Это паспорт скважины, содержит информацию включая дату бурения, глубину скважины, глубину эксплуатационной колонны и диаметр эксплуатационной колонны. Также есть поле для записи времени создания записи.
3. Таблица "mer": Содержит данные о замерах параметров скважин, таких как дебит жидкости, дебит нефти, обводненность, время работы и метод добычи (например, наличие ЭЦН или фонтанного оборудования).
4. Таблица "tr": Предназначена для хранения данных о технологических режимах работы скважины, аналогично таблице "mer".
5. Таблица "nov_str": Содержит информацию о новых стратиграфических исследованиях, включая вид геолого-технического мониторинга, даты начала и окончания и результаты исследования.
6-7.  Таблицы "nov_str_OPZ" и "nov_str_GRP": Содержат дополнительные параметры для исследований, такие как объем закачки или масса проппанта, в зависимости от типа исследования.
8. Таблица "hal": Содержит данные об анализе обводненности скважины, включая дату замера, обводненность и метод анализа.
9. Таблица "gis": Хранит информацию о геофизических исследваниях, использованных для анализа скважин, включая дату исследования, компанию-поставщика услуг, текущий забой, азимут, наличие коллектора и наличие нефти по коллектору.
10-11. Таблицы "pary" и "plast": Содержат дополнительные данные о связях между скважинами и геологические характеристики пластов, такие как идентификаторы пар скважин и имена пластов.
12. Таблица "wells_plasts": Связывает скважины с соответствующими пластами, обеспечивая многие-ко-многим отношение между ними.

Скрипты ("3. СКРИПТЫ для курсовой работы.sql").
Каждая группа скриптов решает определенный набор задач, связанных с анализом данных, поиаком или представлением информации, обеспечением целостности данных в базе.

--------------Запросы:

0. Определение количества горизонтальных и наклонных скважин на каждой кустовой площадке. (Задание 0)
1. Поиск скважин, на которых был хотя бы один ГТМ GRP, и выводит информацию о найденных скважинах, включая их id, номер и номер куста. (Задание 1-2)
2. Подсчет общего количества данных в MER для скважин младше 10 лет. (Задание 3-4)
3. Определение всех скважин, на которых были оба вида ГТМ GRP и OPZ. (Задание 5)
4. Определение всех горизонтальных скважин с глубиной более 4500м и наличием нефтяного коллектора. (Задание 6.)

--------------Процедуры:
Поиск данных о скважинах:
1. Нахождение скважин, относящихся к заданной скважине как влияющие пары, имеющие один метод работы или являющиеся парами пар. (Задание 8. Процедура 1)
2. Поиск пяти скважин, относящихся к заданной скважине по условиям одинаковой кустовой площадки, одинакового вида ГТМ и одинаковой группы по пластам. (Задание 8. Процедура 2)

--------------Представления:
1. Просмотр всех пластов на определенной скважине. (Задание 7.1)
2. Просмотр всех скважин определенного пласта. (Задание 7.2)

--------------Триггеры:
Проверка целостности данных:
1. Триггер для данных таблицы "hal", предотвращающий обновление обводненности, если значение превышает 100. (Задание 8. ТРИГГЕР №1)
2. Триггер для данных таблицы "delo_well", проверяющий перед вставкой даты начала бурения, и заменяющий будущие даты на сегодняшнюю. (Задание 8. ТРИГГЕР №2)

ВЫВОД:
База данных имеет потенциал для решения проблем, связанных с управлением и анализом данных о скважинах. 
Положительные аспекты:
База данных имеет четко определенные таблицы для хранения информации о скважинах, работающих оборудованиях, измерениях. Это позволяет удобно организовывать и анализировать данные.
Использование внешних ключей и связей между таблицами обеспечивает целостность данных и облегчает выполнение сложных запросов.
Представления и хранимые процедуры могут облегчить доступ к данным и автоматизировать рутинные операции.

Возможные улучшения:
Отсутствие описания таблиц и столбцов: Добавление комментариев к таблицам и столбцам может значительно облегчить понимание структуры базы данных, особенно для новых пользователей или разработчиков, которые работают с базой данных впервые.
Отсутствие индексов: Добавление индексов к таблицам может значительно ускорить выполнение запросов, особенно для таблиц с большим объемом данных.
